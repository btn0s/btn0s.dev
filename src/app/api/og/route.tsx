import Link from "next/link";
import { ImageResponse } from "next/og";
export const runtime = "edge";

export async function GET(request: Request) {
  const fontData = await fetch(
    new URL("../../../assets/fonts/Geist/Geist-Regular.otf", import.meta.url),
  ).then((res) => res.arrayBuffer());

  try {
    const { searchParams } = new URL(request.url);

    // ?title=<title>
    const hasTitle = searchParams.has("title");
    const title = hasTitle
      ? searchParams.get("title")?.slice(0, 100)
      : "bt norris";

    // ?description=<description>
    const hasDescription = searchParams.has("description");
    const description = hasDescription
      ? searchParams.get("description")?.slice(0, 300)
      : "design engineer";

    // ?category=<category>
    const hasCategory = searchParams.has("category");
    const category = hasCategory
      ? searchParams.get("category")?.slice(0, 300)
      : undefined;

    return new ImageResponse(
      (
        <div
          style={{
            height: "100%",
            width: "100%",
            display: "flex",
            flexDirection: "column",
            alignItems: "flex-start",
            justifyContent: "flex-end",
            backgroundColor: "black",
            gap: "1rem",
            color: "white",
          }}
          tw="p-8"
        >
          <div
            tw="absolute top-8 inset-x-8"
            style={{
              display: "flex",
              alignItems: "flex-start",
              justifyContent: "space-between",
              gap: "1rem",
            }}
          >
            <svg
              viewBox="0 0 482 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              height="40"
            >
              <path
                d="M8.96 20.008C8.6 17.944 7.136 15.352 4.352 13.264C2.984 12.232 1.592 11.56 0.224 11.272V10.264C2.936 9.616 5.6 7.792 7.304 5.32C8.168 4.072 8.72 2.848 8.96 1.576H9.968C10.376 4 12.248 6.688 14.792 8.488C16.04 9.376 17.336 9.976 18.656 10.264V11.272C15.992 11.824 12.896 14.2 11.36 16.624C10.592 17.848 10.136 18.976 9.968 20.008H8.96ZM38.5305 23.6023C36.7919 23.6023 35.255 23.3636 33.9197 22.8864C32.5845 22.4148 31.4624 21.7188 30.5533 20.7983C29.6442 19.8778 28.9567 18.75 28.4908 17.4148C28.0249 16.0795 27.7919 14.5511 27.7919 12.8295C27.7919 11.1648 28.0277 9.67614 28.4993 8.36364C28.9766 7.05114 29.6669 5.9375 30.5703 5.02273C31.4794 4.10227 32.5817 3.40057 33.8771 2.91761C35.1783 2.43466 36.6499 2.19318 38.2919 2.19318C39.8885 2.19318 41.2862 2.45454 42.4851 2.97727C43.6896 3.49432 44.6953 4.19602 45.5021 5.08239C46.3146 5.96307 46.9226 6.95454 47.326 8.05682C47.7351 9.15909 47.9396 10.2955 47.9396 11.4659C47.9396 12.2898 47.8999 13.125 47.8203 13.9716C47.7408 14.8182 47.5732 15.5966 47.3175 16.3068C47.0618 17.0114 46.6669 17.5795 46.1328 18.0114C45.6044 18.4432 44.8885 18.6591 43.9851 18.6591C43.5874 18.6591 43.1499 18.5966 42.6726 18.4716C42.1953 18.3466 41.772 18.1392 41.4027 17.8494C41.0334 17.5597 40.8146 17.1705 40.7464 16.6818H40.6442C40.5078 17.0114 40.2976 17.3239 40.0135 17.6193C39.7351 17.9148 39.3686 18.1506 38.9141 18.3267C38.4652 18.5028 37.9169 18.5795 37.2692 18.5568C36.5305 18.5284 35.88 18.3636 35.3175 18.0625C34.755 17.7557 34.2834 17.3409 33.9027 16.8182C33.5277 16.2898 33.2436 15.679 33.0504 14.9858C32.8629 14.2869 32.7692 13.5341 32.7692 12.7273C32.7692 11.9602 32.8828 11.2585 33.1101 10.6222C33.3374 9.9858 33.6527 9.42898 34.0561 8.9517C34.4652 8.47443 34.9425 8.09375 35.4879 7.80966C36.0391 7.51989 36.6328 7.34091 37.2692 7.27273C37.8374 7.21591 38.3544 7.24148 38.8203 7.34943C39.2862 7.4517 39.6697 7.60795 39.9709 7.81818C40.272 8.02273 40.4624 8.25 40.5419 8.5H40.6442V7.54545H42.451V15.25C42.451 15.7273 42.5845 16.1477 42.8516 16.5114C43.1186 16.875 43.5078 17.0568 44.0192 17.0568C44.5987 17.0568 45.0419 16.858 45.3487 16.4602C45.6612 16.0625 45.8743 15.4489 45.9879 14.6193C46.1072 13.7898 46.1669 12.7273 46.1669 11.4318C46.1669 10.6705 46.0618 9.92045 45.8516 9.18182C45.647 8.4375 45.3345 7.74148 44.9141 7.09375C44.4993 6.44602 43.9737 5.875 43.3374 5.38068C42.701 4.88636 41.9538 4.5 41.0959 4.22159C40.2436 3.9375 39.2749 3.79545 38.1896 3.79545C36.8544 3.79545 35.6584 4.00284 34.6016 4.41761C33.5504 4.8267 32.6555 5.42614 31.9169 6.21591C31.1839 7 30.6243 7.95455 30.2379 9.07955C29.8572 10.1989 29.6669 11.4716 29.6669 12.8977C29.6669 14.3466 29.8572 15.6335 30.2379 16.7585C30.6243 17.8835 31.1925 18.8324 31.9425 19.6051C32.6982 20.3778 33.6328 20.9631 34.7464 21.3608C35.8601 21.7642 37.1442 21.9659 38.5987 21.9659C39.2237 21.9659 39.8402 21.9063 40.4482 21.7869C41.0561 21.6676 41.593 21.5369 42.0589 21.3949C42.5249 21.2528 42.8601 21.1477 43.0646 21.0795L43.5419 22.6477C43.1896 22.7955 42.7294 22.9432 42.1612 23.0909C41.5987 23.2386 40.9964 23.3608 40.3544 23.4574C39.718 23.554 39.1101 23.6023 38.5305 23.6023ZM37.5419 16.8182C38.3033 16.8182 38.9197 16.6648 39.3913 16.358C39.8629 16.0511 40.2067 15.5881 40.4226 14.9688C40.6385 14.3494 40.7464 13.5682 40.7464 12.625C40.7464 11.6705 40.6271 10.9261 40.3885 10.392C40.1499 9.85795 39.7976 9.48295 39.3317 9.26705C38.8658 9.05114 38.2919 8.94318 37.6101 8.94318C36.9624 8.94318 36.4084 9.11364 35.9482 9.45455C35.4936 9.78977 35.1442 10.2386 34.8999 10.8011C34.6612 11.358 34.5419 11.9659 34.5419 12.625C34.5419 13.3523 34.6385 14.0369 34.8317 14.679C35.0249 15.3153 35.3402 15.8324 35.7777 16.2301C36.2152 16.6222 36.8033 16.8182 37.5419 16.8182ZM51.223 19V1.54545H53.2344V7.98864H53.4048C53.5526 7.76136 53.7571 7.47159 54.0185 7.11932C54.2855 6.76136 54.6662 6.44318 55.1605 6.16477C55.6605 5.88068 56.3366 5.73864 57.1889 5.73864C58.2912 5.73864 59.2628 6.0142 60.1037 6.56534C60.9446 7.11648 61.6009 7.89773 62.0724 8.90909C62.544 9.92045 62.7798 11.1136 62.7798 12.4886C62.7798 13.875 62.544 15.0767 62.0724 16.0938C61.6009 17.1051 60.9474 17.8892 60.1122 18.446C59.277 18.9972 58.3139 19.2727 57.223 19.2727C56.3821 19.2727 55.7088 19.1335 55.2031 18.8551C54.6974 18.571 54.3082 18.25 54.0355 17.892C53.7628 17.5284 53.5526 17.2273 53.4048 16.9886H53.1662V19H51.223ZM53.2003 12.4545C53.2003 13.4432 53.3452 14.3153 53.6349 15.071C53.9247 15.821 54.348 16.4091 54.9048 16.8352C55.4616 17.2557 56.1435 17.4659 56.9503 17.4659C57.7912 17.4659 58.4929 17.2443 59.0554 16.8011C59.6236 16.3523 60.0497 15.75 60.3338 14.9943C60.6236 14.233 60.7685 13.3864 60.7685 12.4545C60.7685 11.5341 60.6264 10.7045 60.3423 9.96591C60.0639 9.22159 59.6406 8.63352 59.0724 8.2017C58.5099 7.7642 57.8026 7.54545 56.9503 7.54545C56.1321 7.54545 55.4446 7.75284 54.8878 8.16761C54.331 8.5767 53.9105 9.15057 53.6264 9.8892C53.3423 10.6222 53.2003 11.4773 53.2003 12.4545ZM71.5497 5.90909V7.61364H64.7656V5.90909H71.5497ZM66.7429 2.77273H68.7543V15.25C68.7543 15.8182 68.8366 16.2443 69.0014 16.5284C69.1719 16.8068 69.3878 16.9943 69.6491 17.0909C69.9162 17.1818 70.1974 17.2273 70.4929 17.2273C70.7145 17.2273 70.8963 17.2159 71.0384 17.1932C71.1804 17.1648 71.294 17.142 71.3793 17.125L71.7884 18.9318C71.652 18.983 71.4616 19.0341 71.2173 19.0852C70.973 19.142 70.6634 19.1705 70.2884 19.1705C69.7202 19.1705 69.1634 19.0483 68.6179 18.804C68.0781 18.5597 67.6293 18.1875 67.2713 17.6875C66.919 17.1875 66.7429 16.5568 66.7429 15.7955V2.77273ZM76.5866 11.125V19H74.5753V5.90909H76.5185V7.95455H76.6889C76.9957 7.28977 77.4616 6.75568 78.0866 6.35227C78.7116 5.94318 79.5185 5.73864 80.5071 5.73864C81.3935 5.73864 82.169 5.92045 82.8338 6.28409C83.4986 6.64205 84.0156 7.1875 84.3849 7.92045C84.7543 8.64773 84.9389 9.56818 84.9389 10.6818V19H82.9276V10.8182C82.9276 9.78977 82.6605 8.98864 82.1264 8.41477C81.5923 7.83523 80.8594 7.54545 79.9276 7.54545C79.2855 7.54545 78.7116 7.68466 78.206 7.96307C77.706 8.24148 77.3111 8.64773 77.0213 9.18182C76.7315 9.71591 76.5866 10.3636 76.5866 11.125ZM94.2734 19.2386C92.9893 19.2386 91.8956 18.8892 90.9922 18.1903C90.0888 17.4858 89.3984 16.4659 88.9212 15.1307C88.4439 13.7898 88.2053 12.1705 88.2053 10.2727C88.2053 8.38636 88.4439 6.77557 88.9212 5.44034C89.4041 4.09943 90.0973 3.0767 91.0007 2.37216C91.9098 1.66193 93.0007 1.30682 94.2734 1.30682C95.5462 1.30682 96.6342 1.66193 97.5376 2.37216C98.4467 3.0767 99.1399 4.09943 99.6172 5.44034C100.1 6.77557 100.342 8.38636 100.342 10.2727C100.342 12.1705 100.103 13.7898 99.6257 15.1307C99.1484 16.4659 98.4581 17.4858 97.5547 18.1903C96.6513 18.8892 95.5575 19.2386 94.2734 19.2386ZM94.2734 17.3636C95.5462 17.3636 96.5348 16.75 97.2393 15.5227C97.9439 14.2955 98.2962 12.5455 98.2962 10.2727C98.2962 8.76136 98.1342 7.47443 97.8104 6.41193C97.4922 5.34943 97.032 4.53977 96.4297 3.98295C95.8331 3.42614 95.1143 3.14773 94.2734 3.14773C93.0121 3.14773 92.0263 3.76989 91.3161 5.0142C90.6058 6.25284 90.2507 8.00568 90.2507 10.2727C90.2507 11.7841 90.4098 13.0682 90.728 14.125C91.0462 15.1818 91.5036 15.9858 92.1001 16.5369C92.7024 17.0881 93.4268 17.3636 94.2734 17.3636ZM112.887 8.84091L111.08 9.35227C110.967 9.05114 110.799 8.75852 110.577 8.47443C110.362 8.18466 110.066 7.94602 109.691 7.75852C109.316 7.57102 108.836 7.47727 108.251 7.47727C107.45 7.47727 106.782 7.66193 106.248 8.03125C105.719 8.39489 105.455 8.85795 105.455 9.42045C105.455 9.92045 105.637 10.3153 106.001 10.6051C106.364 10.8949 106.933 11.1364 107.705 11.3295L109.648 11.8068C110.819 12.0909 111.691 12.5256 112.265 13.1108C112.839 13.6903 113.126 14.4375 113.126 15.3523C113.126 16.1023 112.91 16.7727 112.478 17.3636C112.052 17.9545 111.455 18.4205 110.688 18.7614C109.921 19.1023 109.029 19.2727 108.012 19.2727C106.677 19.2727 105.572 18.983 104.697 18.4034C103.822 17.8239 103.268 16.9773 103.035 15.8636L104.944 15.3864C105.126 16.0909 105.469 16.6193 105.975 16.9716C106.487 17.3239 107.154 17.5 107.978 17.5C108.915 17.5 109.66 17.3011 110.211 16.9034C110.768 16.5 111.046 16.017 111.046 15.4545C111.046 15 110.887 14.6193 110.569 14.3125C110.251 14 109.762 13.767 109.103 13.6136L106.921 13.1023C105.722 12.8182 104.842 12.3778 104.279 11.7812C103.722 11.179 103.444 10.4261 103.444 9.52273C103.444 8.78409 103.651 8.13068 104.066 7.5625C104.487 6.99432 105.058 6.5483 105.779 6.22443C106.506 5.90057 107.33 5.73864 108.251 5.73864C109.546 5.73864 110.563 6.02273 111.302 6.59091C112.046 7.15909 112.575 7.90909 112.887 8.84091Z"
                fill="white"
              />
              <path
                d="M129.074 0.727272L123.449 21.625H121.608L127.233 0.727272H129.074ZM137.629 0.727272L132.004 21.625H130.163L135.788 0.727272H137.629ZM151.706 19.2727C150.615 19.2727 149.652 18.9972 148.817 18.446C147.982 17.8892 147.328 17.1051 146.857 16.0938C146.385 15.0767 146.149 13.875 146.149 12.4886C146.149 11.1136 146.385 9.92045 146.857 8.90909C147.328 7.89773 147.984 7.11648 148.825 6.56534C149.666 6.0142 150.638 5.73864 151.74 5.73864C152.592 5.73864 153.266 5.88068 153.76 6.16477C154.26 6.44318 154.641 6.76136 154.902 7.11932C155.169 7.47159 155.376 7.76136 155.524 7.98864H155.695V1.54545H157.706V19H155.763V16.9886H155.524C155.376 17.2273 155.166 17.5284 154.893 17.892C154.621 18.25 154.232 18.571 153.726 18.8551C153.22 19.1335 152.547 19.2727 151.706 19.2727ZM151.979 17.4659C152.786 17.4659 153.467 17.2557 154.024 16.8352C154.581 16.4091 155.004 15.821 155.294 15.071C155.584 14.3153 155.729 13.4432 155.729 12.4545C155.729 11.4773 155.587 10.6222 155.303 9.8892C155.018 9.15057 154.598 8.5767 154.041 8.16761C153.484 7.75284 152.797 7.54545 151.979 7.54545C151.126 7.54545 150.416 7.7642 149.848 8.2017C149.286 8.63352 148.862 9.22159 148.578 9.96591C148.3 10.7045 148.161 11.5341 148.161 12.4545C148.161 13.3864 148.303 14.233 148.587 14.9943C148.876 15.75 149.303 16.3523 149.865 16.8011C150.433 17.2443 151.138 17.4659 151.979 17.4659ZM167.158 19.2727C165.896 19.2727 164.808 18.9943 163.893 18.4375C162.984 17.875 162.283 17.0909 161.788 16.0852C161.3 15.0739 161.055 13.8977 161.055 12.5568C161.055 11.2159 161.3 10.0341 161.788 9.01136C162.283 7.98295 162.97 7.18182 163.851 6.60795C164.737 6.02841 165.771 5.73864 166.953 5.73864C167.635 5.73864 168.308 5.85227 168.973 6.07954C169.638 6.30682 170.243 6.67614 170.788 7.1875C171.334 7.69318 171.768 8.36364 172.092 9.19886C172.416 10.0341 172.578 11.0625 172.578 12.2841V13.1364H162.487V11.3977H170.533C170.533 10.6591 170.385 10 170.089 9.42045C169.8 8.84091 169.385 8.38352 168.845 8.0483C168.311 7.71307 167.68 7.54545 166.953 7.54545C166.152 7.54545 165.459 7.74432 164.874 8.14205C164.294 8.53409 163.848 9.04545 163.536 9.67614C163.223 10.3068 163.067 10.983 163.067 11.7045V12.8636C163.067 13.8523 163.237 14.6903 163.578 15.3778C163.925 16.0597 164.405 16.5795 165.018 16.9375C165.632 17.2898 166.345 17.4659 167.158 17.4659C167.686 17.4659 168.163 17.392 168.589 17.2443C169.021 17.0909 169.393 16.8636 169.706 16.5625C170.018 16.2557 170.26 15.875 170.43 15.4205L172.374 15.9659C172.169 16.625 171.825 17.2045 171.342 17.7045C170.859 18.1989 170.263 18.5852 169.553 18.8636C168.842 19.1364 168.044 19.2727 167.158 19.2727ZM184.911 8.84091L183.104 9.35227C182.99 9.05114 182.822 8.75852 182.601 8.47443C182.385 8.18466 182.089 7.94602 181.714 7.75852C181.339 7.57102 180.859 7.47727 180.274 7.47727C179.473 7.47727 178.805 7.66193 178.271 8.03125C177.743 8.39489 177.479 8.85795 177.479 9.42045C177.479 9.92045 177.661 10.3153 178.024 10.6051C178.388 10.8949 178.956 11.1364 179.729 11.3295L181.672 11.8068C182.842 12.0909 183.714 12.5256 184.288 13.1108C184.862 13.6903 185.149 14.4375 185.149 15.3523C185.149 16.1023 184.933 16.7727 184.501 17.3636C184.075 17.9545 183.479 18.4205 182.712 18.7614C181.945 19.1023 181.053 19.2727 180.036 19.2727C178.7 19.2727 177.595 18.983 176.72 18.4034C175.845 17.8239 175.291 16.9773 175.058 15.8636L176.967 15.3864C177.149 16.0909 177.493 16.6193 177.999 16.9716C178.51 17.3239 179.178 17.5 180.001 17.5C180.939 17.5 181.683 17.3011 182.234 16.9034C182.791 16.5 183.07 16.017 183.07 15.4545C183.07 15 182.911 14.6193 182.592 14.3125C182.274 14 181.786 13.767 181.126 13.6136L178.945 13.1023C177.746 12.8182 176.865 12.3778 176.303 11.7812C175.746 11.179 175.467 10.4261 175.467 9.52273C175.467 8.78409 175.675 8.13068 176.089 7.5625C176.51 6.99432 177.081 6.5483 177.803 6.22443C178.53 5.90057 179.354 5.73864 180.274 5.73864C181.57 5.73864 182.587 6.02273 183.325 6.59091C184.07 7.15909 184.598 7.90909 184.911 8.84091ZM188.177 19V5.90909H190.188V19H188.177ZM189.2 3.72727C188.808 3.72727 188.469 3.59375 188.185 3.3267C187.907 3.05966 187.768 2.73864 187.768 2.36364C187.768 1.98864 187.907 1.66761 188.185 1.40057C188.469 1.13352 188.808 1 189.2 1C189.592 1 189.927 1.13352 190.205 1.40057C190.489 1.66761 190.631 1.98864 190.631 2.36364C190.631 2.73864 190.489 3.05966 190.205 3.3267C189.927 3.59375 189.592 3.72727 189.2 3.72727ZM199.156 24.1818C198.185 24.1818 197.349 24.0568 196.651 23.8068C195.952 23.5625 195.369 23.2386 194.903 22.8352C194.443 22.4375 194.077 22.0114 193.804 21.5568L195.406 20.4318C195.588 20.6705 195.818 20.9432 196.097 21.25C196.375 21.5625 196.756 21.8324 197.239 22.0597C197.727 22.2926 198.366 22.4091 199.156 22.4091C200.213 22.4091 201.085 22.1534 201.773 21.642C202.46 21.1307 202.804 20.3295 202.804 19.2386V16.5795H202.634C202.486 16.8182 202.276 17.1136 202.003 17.4659C201.736 17.8125 201.349 18.1222 200.844 18.3949C200.344 18.6619 199.668 18.7955 198.815 18.7955C197.759 18.7955 196.81 18.5455 195.969 18.0455C195.134 17.5455 194.472 16.8182 193.983 15.8636C193.5 14.9091 193.259 13.75 193.259 12.3864C193.259 11.0455 193.494 9.87784 193.966 8.88352C194.438 7.88352 195.094 7.1108 195.935 6.56534C196.776 6.0142 197.747 5.73864 198.849 5.73864C199.702 5.73864 200.378 5.88068 200.878 6.16477C201.384 6.44318 201.77 6.76136 202.037 7.11932C202.31 7.47159 202.52 7.76136 202.668 7.98864H202.872V5.90909H204.815V19.375C204.815 20.5 204.56 21.4148 204.048 22.1193C203.543 22.8295 202.861 23.3494 202.003 23.679C201.151 24.0142 200.202 24.1818 199.156 24.1818ZM199.088 16.9886C199.895 16.9886 200.577 16.804 201.134 16.4347C201.69 16.0653 202.114 15.5341 202.403 14.8409C202.693 14.1477 202.838 13.3182 202.838 12.3523C202.838 11.4091 202.696 10.5767 202.412 9.85511C202.128 9.13352 201.707 8.56818 201.151 8.15909C200.594 7.75 199.906 7.54545 199.088 7.54545C198.236 7.54545 197.526 7.76136 196.957 8.19318C196.395 8.625 195.972 9.20455 195.688 9.93182C195.409 10.6591 195.27 11.4659 195.27 12.3523C195.27 13.2614 195.412 14.0653 195.696 14.7642C195.986 15.4574 196.412 16.0028 196.974 16.4006C197.543 16.7926 198.247 16.9886 199.088 16.9886ZM210.509 11.125V19H208.497V5.90909H210.44V7.95455H210.611C210.918 7.28977 211.384 6.75568 212.009 6.35227C212.634 5.94318 213.44 5.73864 214.429 5.73864C215.315 5.73864 216.091 5.92045 216.756 6.28409C217.42 6.64205 217.938 7.1875 218.307 7.92045C218.676 8.64773 218.861 9.56818 218.861 10.6818V19H216.849V10.8182C216.849 9.78977 216.582 8.98864 216.048 8.41477C215.514 7.83523 214.781 7.54545 213.849 7.54545C213.207 7.54545 212.634 7.68466 212.128 7.96307C211.628 8.24148 211.233 8.64773 210.943 9.18182C210.653 9.71591 210.509 10.3636 210.509 11.125ZM228.025 19.2727C226.763 19.2727 225.675 18.9943 224.761 18.4375C223.852 17.875 223.15 17.0909 222.656 16.0852C222.167 15.0739 221.923 13.8977 221.923 12.5568C221.923 11.2159 222.167 10.0341 222.656 9.01136C223.15 7.98295 223.837 7.18182 224.718 6.60795C225.604 6.02841 226.638 5.73864 227.82 5.73864C228.502 5.73864 229.175 5.85227 229.84 6.07954C230.505 6.30682 231.11 6.67614 231.656 7.1875C232.201 7.69318 232.636 8.36364 232.96 9.19886C233.283 10.0341 233.445 11.0625 233.445 12.2841V13.1364H223.354V11.3977H231.4C231.4 10.6591 231.252 10 230.957 9.42045C230.667 8.84091 230.252 8.38352 229.712 8.0483C229.178 7.71307 228.548 7.54545 227.82 7.54545C227.019 7.54545 226.326 7.74432 225.741 8.14205C225.161 8.53409 224.715 9.04545 224.403 9.67614C224.09 10.3068 223.934 10.983 223.934 11.7045V12.8636C223.934 13.8523 224.104 14.6903 224.445 15.3778C224.792 16.0597 225.272 16.5795 225.886 16.9375C226.499 17.2898 227.212 17.4659 228.025 17.4659C228.553 17.4659 229.031 17.392 229.457 17.2443C229.888 17.0909 230.261 16.8636 230.573 16.5625C230.886 16.2557 231.127 15.875 231.298 15.4205L233.241 15.9659C233.036 16.625 232.692 17.2045 232.21 17.7045C231.727 18.1989 231.13 18.5852 230.42 18.8636C229.71 19.1364 228.911 19.2727 228.025 19.2727ZM236.505 19V5.90909H238.448V7.88636H238.585C238.823 7.23864 239.255 6.71307 239.88 6.30966C240.505 5.90625 241.21 5.70454 241.994 5.70454C242.141 5.70454 242.326 5.70739 242.548 5.71307C242.769 5.71875 242.937 5.72727 243.05 5.73864V7.78409C242.982 7.76705 242.826 7.74148 242.582 7.70739C242.343 7.66761 242.09 7.64773 241.823 7.64773C241.187 7.64773 240.619 7.78125 240.119 8.0483C239.624 8.30966 239.232 8.6733 238.942 9.1392C238.658 9.59943 238.516 10.125 238.516 10.7159V19H236.505ZM246.935 16.6136L246.798 17.5341C246.702 18.1818 246.554 18.875 246.355 19.6136C246.162 20.3523 245.96 21.0483 245.75 21.7017C245.54 22.3551 245.366 22.875 245.23 23.2614H243.696C243.77 22.8977 243.866 22.4176 243.986 21.821C244.105 21.2244 244.224 20.5568 244.344 19.8182C244.469 19.0852 244.571 18.3352 244.651 17.5682L244.753 16.6136H246.935ZM257.411 23.9091V5.90909H259.354V7.98864H259.593C259.741 7.76136 259.945 7.47159 260.207 7.11932C260.474 6.76136 260.854 6.44318 261.349 6.16477C261.849 5.88068 262.525 5.73864 263.377 5.73864C264.479 5.73864 265.451 6.0142 266.292 6.56534C267.133 7.11648 267.789 7.89773 268.261 8.90909C268.732 9.92045 268.968 11.1136 268.968 12.4886C268.968 13.875 268.732 15.0767 268.261 16.0938C267.789 17.1051 267.136 17.8892 266.3 18.446C265.465 18.9972 264.502 19.2727 263.411 19.2727C262.57 19.2727 261.897 19.1335 261.391 18.8551C260.886 18.571 260.496 18.25 260.224 17.892C259.951 17.5284 259.741 17.2273 259.593 16.9886H259.423V23.9091H257.411ZM259.388 12.4545C259.388 13.4432 259.533 14.3153 259.823 15.071C260.113 15.821 260.536 16.4091 261.093 16.8352C261.65 17.2557 262.332 17.4659 263.138 17.4659C263.979 17.4659 264.681 17.2443 265.244 16.8011C265.812 16.3523 266.238 15.75 266.522 14.9943C266.812 14.233 266.957 13.3864 266.957 12.4545C266.957 11.5341 266.815 10.7045 266.531 9.96591C266.252 9.22159 265.829 8.63352 265.261 8.2017C264.698 7.7642 263.991 7.54545 263.138 7.54545C262.32 7.54545 261.633 7.75284 261.076 8.16761C260.519 8.5767 260.099 9.15057 259.815 9.8892C259.531 10.6222 259.388 11.4773 259.388 12.4545ZM272.036 19V5.90909H273.979V7.88636H274.116C274.354 7.23864 274.786 6.71307 275.411 6.30966C276.036 5.90625 276.741 5.70454 277.525 5.70454C277.673 5.70454 277.857 5.70739 278.079 5.71307C278.3 5.71875 278.468 5.72727 278.582 5.73864V7.78409C278.513 7.76705 278.357 7.74148 278.113 7.70739C277.874 7.66761 277.621 7.64773 277.354 7.64773C276.718 7.64773 276.15 7.78125 275.65 8.0483C275.156 8.30966 274.763 8.6733 274.474 9.1392C274.19 9.59943 274.048 10.125 274.048 10.7159V19H272.036ZM285.886 19.2727C284.704 19.2727 283.667 18.9915 282.775 18.429C281.888 17.8665 281.195 17.0795 280.695 16.0682C280.201 15.0568 279.954 13.875 279.954 12.5227C279.954 11.1591 280.201 9.96875 280.695 8.9517C281.195 7.93466 281.888 7.14489 282.775 6.58239C283.667 6.01989 284.704 5.73864 285.886 5.73864C287.067 5.73864 288.102 6.01989 288.988 6.58239C289.88 7.14489 290.573 7.93466 291.067 8.9517C291.567 9.96875 291.817 11.1591 291.817 12.5227C291.817 13.875 291.567 15.0568 291.067 16.0682C290.573 17.0795 289.88 17.8665 288.988 18.429C288.102 18.9915 287.067 19.2727 285.886 19.2727ZM285.886 17.4659C286.783 17.4659 287.522 17.2358 288.102 16.7756C288.681 16.3153 289.11 15.7102 289.388 14.9602C289.667 14.2102 289.806 13.3977 289.806 12.5227C289.806 11.6477 289.667 10.8324 289.388 10.0767C289.11 9.32102 288.681 8.71023 288.102 8.24432C287.522 7.77841 286.783 7.54545 285.886 7.54545C284.988 7.54545 284.249 7.77841 283.67 8.24432C283.09 8.71023 282.661 9.32102 282.383 10.0767C282.104 10.8324 281.965 11.6477 281.965 12.5227C281.965 13.3977 282.104 14.2102 282.383 14.9602C282.661 15.7102 283.09 16.3153 283.67 16.7756C284.249 17.2358 284.988 17.4659 285.886 17.4659ZM300.172 24.1818C299.2 24.1818 298.365 24.0568 297.666 23.8068C296.967 23.5625 296.385 23.2386 295.919 22.8352C295.459 22.4375 295.092 22.0114 294.82 21.5568L296.422 20.4318C296.604 20.6705 296.834 20.9432 297.112 21.25C297.391 21.5625 297.771 21.8324 298.254 22.0597C298.743 22.2926 299.382 22.4091 300.172 22.4091C301.229 22.4091 302.101 22.1534 302.788 21.642C303.476 21.1307 303.82 20.3295 303.82 19.2386V16.5795H303.649C303.501 16.8182 303.291 17.1136 303.018 17.4659C302.751 17.8125 302.365 18.1222 301.859 18.3949C301.359 18.6619 300.683 18.7955 299.831 18.7955C298.774 18.7955 297.825 18.5455 296.984 18.0455C296.149 17.5455 295.487 16.8182 294.999 15.8636C294.516 14.9091 294.274 13.75 294.274 12.3864C294.274 11.0455 294.51 9.87784 294.982 8.88352C295.453 7.88352 296.109 7.1108 296.95 6.56534C297.791 6.0142 298.763 5.73864 299.865 5.73864C300.717 5.73864 301.393 5.88068 301.893 6.16477C302.399 6.44318 302.786 6.76136 303.053 7.11932C303.325 7.47159 303.536 7.76136 303.683 7.98864H303.888V5.90909H305.831V19.375C305.831 20.5 305.575 21.4148 305.064 22.1193C304.558 22.8295 303.876 23.3494 303.018 23.679C302.166 24.0142 301.217 24.1818 300.172 24.1818ZM300.104 16.9886C300.911 16.9886 301.592 16.804 302.149 16.4347C302.706 16.0653 303.129 15.5341 303.419 14.8409C303.709 14.1477 303.854 13.3182 303.854 12.3523C303.854 11.4091 303.712 10.5767 303.428 9.85511C303.143 9.13352 302.723 8.56818 302.166 8.15909C301.609 7.75 300.922 7.54545 300.104 7.54545C299.251 7.54545 298.541 7.76136 297.973 8.19318C297.411 8.625 296.987 9.20455 296.703 9.93182C296.425 10.6591 296.286 11.4659 296.286 12.3523C296.286 13.2614 296.428 14.0653 296.712 14.7642C297.001 15.4574 297.428 16.0028 297.99 16.4006C298.558 16.7926 299.263 16.9886 300.104 16.9886ZM309.513 19V5.90909H311.456V7.88636H311.592C311.831 7.23864 312.263 6.71307 312.888 6.30966C313.513 5.90625 314.217 5.70454 315.001 5.70454C315.149 5.70454 315.334 5.70739 315.555 5.71307C315.777 5.71875 315.945 5.72727 316.058 5.73864V7.78409C315.99 7.76705 315.834 7.74148 315.589 7.70739C315.351 7.66761 315.098 7.64773 314.831 7.64773C314.195 7.64773 313.626 7.78125 313.126 8.0483C312.632 8.30966 312.24 8.6733 311.95 9.1392C311.666 9.59943 311.524 10.125 311.524 10.7159V19H309.513ZM322.295 19.3068C321.465 19.3068 320.712 19.1506 320.036 18.8381C319.36 18.5199 318.823 18.0625 318.425 17.4659C318.028 16.8636 317.829 16.1364 317.829 15.2841C317.829 14.5341 317.977 13.9261 318.272 13.4602C318.567 12.9886 318.962 12.6193 319.457 12.3523C319.951 12.0852 320.496 11.8864 321.093 11.7557C321.695 11.6193 322.3 11.5114 322.908 11.4318C323.704 11.3295 324.349 11.2528 324.843 11.2017C325.343 11.1449 325.707 11.0511 325.934 10.9205C326.167 10.7898 326.283 10.5625 326.283 10.2386V10.1705C326.283 9.32955 326.053 8.67614 325.593 8.21023C325.138 7.74432 324.448 7.51136 323.522 7.51136C322.562 7.51136 321.809 7.72159 321.263 8.14205C320.718 8.5625 320.335 9.01136 320.113 9.48864L318.204 8.80682C318.545 8.01136 318.999 7.39205 319.567 6.94886C320.141 6.5 320.766 6.1875 321.442 6.01136C322.124 5.82955 322.795 5.73864 323.454 5.73864C323.874 5.73864 324.357 5.78977 324.903 5.89204C325.454 5.98864 325.985 6.19034 326.496 6.49716C327.013 6.80398 327.442 7.26705 327.783 7.88636C328.124 8.50568 328.295 9.33523 328.295 10.375V19H326.283V17.2273H326.181C326.045 17.5114 325.817 17.8153 325.499 18.1392C325.181 18.4631 324.758 18.7386 324.229 18.9659C323.701 19.1932 323.056 19.3068 322.295 19.3068ZM322.602 17.5C323.397 17.5 324.067 17.3438 324.613 17.0312C325.164 16.7188 325.579 16.3153 325.857 15.821C326.141 15.3267 326.283 14.8068 326.283 14.2614V12.4205C326.198 12.5227 326.011 12.6165 325.721 12.7017C325.437 12.7812 325.107 12.8523 324.732 12.9148C324.363 12.9716 324.002 13.0227 323.65 13.0682C323.303 13.108 323.022 13.142 322.806 13.1705C322.283 13.2386 321.795 13.3494 321.34 13.5028C320.891 13.6506 320.528 13.875 320.249 14.1761C319.977 14.4716 319.84 14.875 319.84 15.3864C319.84 16.0852 320.099 16.6136 320.616 16.9716C321.138 17.3239 321.8 17.5 322.602 17.5ZM331.966 19V5.90909H333.909V7.95455H334.08C334.352 7.25568 334.793 6.71307 335.401 6.3267C336.009 5.93466 336.739 5.73864 337.591 5.73864C338.455 5.73864 339.173 5.93466 339.747 6.3267C340.327 6.71307 340.778 7.25568 341.102 7.95455H341.239C341.574 7.27841 342.077 6.74148 342.747 6.34375C343.418 5.94034 344.222 5.73864 345.159 5.73864C346.33 5.73864 347.287 6.10511 348.031 6.83807C348.776 7.56534 349.148 8.69886 349.148 10.2386V19H347.136V10.2386C347.136 9.27273 346.872 8.58239 346.344 8.16761C345.815 7.75284 345.193 7.54545 344.477 7.54545C343.557 7.54545 342.844 7.82386 342.338 8.38068C341.832 8.93182 341.58 9.63068 341.58 10.4773V19H339.534V10.0341C339.534 9.28977 339.293 8.69034 338.81 8.2358C338.327 7.77557 337.705 7.54545 336.943 7.54545C336.42 7.54545 335.932 7.68466 335.477 7.96307C335.028 8.24148 334.665 8.62784 334.386 9.12216C334.114 9.6108 333.977 10.1761 333.977 10.8182V19H331.966ZM352.825 19V5.90909H354.768V7.95455H354.939C355.212 7.25568 355.652 6.71307 356.26 6.3267C356.868 5.93466 357.598 5.73864 358.45 5.73864C359.314 5.73864 360.033 5.93466 360.607 6.3267C361.186 6.71307 361.638 7.25568 361.962 7.95455H362.098C362.433 7.27841 362.936 6.74148 363.607 6.34375C364.277 5.94034 365.081 5.73864 366.018 5.73864C367.189 5.73864 368.146 6.10511 368.891 6.83807C369.635 7.56534 370.007 8.69886 370.007 10.2386V19H367.996V10.2386C367.996 9.27273 367.732 8.58239 367.203 8.16761C366.675 7.75284 366.053 7.54545 365.337 7.54545C364.416 7.54545 363.703 7.82386 363.197 8.38068C362.692 8.93182 362.439 9.63068 362.439 10.4773V19H360.393V10.0341C360.393 9.28977 360.152 8.69034 359.669 8.2358C359.186 7.77557 358.564 7.54545 357.803 7.54545C357.28 7.54545 356.791 7.68466 356.337 7.96307C355.888 8.24148 355.524 8.62784 355.246 9.12216C354.973 9.6108 354.837 10.1761 354.837 10.8182V19H352.825ZM379.173 19.2727C377.912 19.2727 376.824 18.9943 375.909 18.4375C375 17.875 374.298 17.0909 373.804 16.0852C373.315 15.0739 373.071 13.8977 373.071 12.5568C373.071 11.2159 373.315 10.0341 373.804 9.01136C374.298 7.98295 374.986 7.18182 375.866 6.60795C376.753 6.02841 377.787 5.73864 378.969 5.73864C379.651 5.73864 380.324 5.85227 380.989 6.07954C381.653 6.30682 382.259 6.67614 382.804 7.1875C383.349 7.69318 383.784 8.36364 384.108 9.19886C384.432 10.0341 384.594 11.0625 384.594 12.2841V13.1364H374.503V11.3977H382.548C382.548 10.6591 382.401 10 382.105 9.42045C381.815 8.84091 381.401 8.38352 380.861 8.0483C380.327 7.71307 379.696 7.54545 378.969 7.54545C378.168 7.54545 377.474 7.74432 376.889 8.14205C376.31 8.53409 375.864 9.04545 375.551 9.67614C375.239 10.3068 375.082 10.983 375.082 11.7045V12.8636C375.082 13.8523 375.253 14.6903 375.594 15.3778C375.94 16.0597 376.42 16.5795 377.034 16.9375C377.648 17.2898 378.361 17.4659 379.173 17.4659C379.702 17.4659 380.179 17.392 380.605 17.2443C381.037 17.0909 381.409 16.8636 381.722 16.5625C382.034 16.2557 382.276 15.875 382.446 15.4205L384.389 15.9659C384.185 16.625 383.841 17.2045 383.358 17.7045C382.875 18.1989 382.278 18.5852 381.568 18.8636C380.858 19.1364 380.06 19.2727 379.173 19.2727ZM387.653 19V5.90909H389.597V7.88636H389.733C389.972 7.23864 390.403 6.71307 391.028 6.30966C391.653 5.90625 392.358 5.70454 393.142 5.70454C393.29 5.70454 393.474 5.70739 393.696 5.71307C393.918 5.71875 394.085 5.72727 394.199 5.73864V7.78409C394.131 7.76705 393.974 7.74148 393.73 7.70739C393.491 7.66761 393.239 7.64773 392.972 7.64773C392.335 7.64773 391.767 7.78125 391.267 8.0483C390.773 8.30966 390.381 8.6733 390.091 9.1392C389.807 9.59943 389.665 10.125 389.665 10.7159V19H387.653ZM398.083 16.6136L397.947 17.5341C397.85 18.1818 397.702 18.875 397.504 19.6136C397.31 20.3523 397.109 21.0483 396.898 21.7017C396.688 22.3551 396.515 22.875 396.379 23.2614H394.844C394.918 22.8977 395.015 22.4176 395.134 21.821C395.254 21.2244 395.373 20.5568 395.492 19.8182C395.617 19.0852 395.719 18.3352 395.799 17.5682L395.901 16.6136H398.083ZM410.571 11.125V19H408.56V1.54545H410.571V7.95455H410.741C411.048 7.27841 411.509 6.74148 412.122 6.34375C412.741 5.94034 413.565 5.73864 414.594 5.73864C415.486 5.73864 416.267 5.91761 416.938 6.27557C417.608 6.62784 418.128 7.17045 418.497 7.90341C418.872 8.63068 419.06 9.55682 419.06 10.6818V19H417.048V10.8182C417.048 9.77841 416.778 8.97443 416.239 8.40625C415.705 7.83239 414.963 7.54545 414.014 7.54545C413.355 7.54545 412.764 7.68466 412.241 7.96307C411.724 8.24148 411.315 8.64773 411.014 9.18182C410.719 9.71591 410.571 10.3636 410.571 11.125ZM430.989 13.6477V5.90909H433.001V19H430.989V16.7841H430.853C430.546 17.4489 430.069 18.0142 429.421 18.4801C428.773 18.9403 427.955 19.1705 426.967 19.1705C426.148 19.1705 425.421 18.9915 424.785 18.6335C424.148 18.2699 423.648 17.7244 423.285 16.9972C422.921 16.2642 422.739 15.3409 422.739 14.2273V5.90909H424.751V14.0909C424.751 15.0455 425.018 15.8068 425.552 16.375C426.092 16.9432 426.779 17.2273 427.614 17.2273C428.114 17.2273 428.623 17.0994 429.14 16.8438C429.663 16.5881 430.1 16.196 430.452 15.6676C430.81 15.1392 430.989 14.4659 430.989 13.6477ZM436.685 19V5.90909H438.628V7.95455H438.798C439.071 7.25568 439.511 6.71307 440.119 6.3267C440.727 5.93466 441.457 5.73864 442.31 5.73864C443.173 5.73864 443.892 5.93466 444.466 6.3267C445.045 6.71307 445.497 7.25568 445.821 7.95455H445.957C446.293 7.27841 446.795 6.74148 447.466 6.34375C448.136 5.94034 448.94 5.73864 449.878 5.73864C451.048 5.73864 452.006 6.10511 452.75 6.83807C453.494 7.56534 453.866 8.69886 453.866 10.2386V19H451.855V10.2386C451.855 9.27273 451.591 8.58239 451.062 8.16761C450.534 7.75284 449.912 7.54545 449.196 7.54545C448.276 7.54545 447.563 7.82386 447.057 8.38068C446.551 8.93182 446.298 9.63068 446.298 10.4773V19H444.253V10.0341C444.253 9.28977 444.011 8.69034 443.528 8.2358C443.045 7.77557 442.423 7.54545 441.662 7.54545C441.139 7.54545 440.651 7.68466 440.196 7.96307C439.747 8.24148 439.384 8.62784 439.105 9.12216C438.832 9.6108 438.696 10.1761 438.696 10.8182V19H436.685ZM461.396 19.3068C460.567 19.3068 459.814 19.1506 459.138 18.8381C458.462 18.5199 457.925 18.0625 457.527 17.4659C457.129 16.8636 456.93 16.1364 456.93 15.2841C456.93 14.5341 457.078 13.9261 457.374 13.4602C457.669 12.9886 458.064 12.6193 458.558 12.3523C459.053 12.0852 459.598 11.8864 460.195 11.7557C460.797 11.6193 461.402 11.5114 462.01 11.4318C462.805 11.3295 463.45 11.2528 463.945 11.2017C464.445 11.1449 464.808 11.0511 465.036 10.9205C465.268 10.7898 465.385 10.5625 465.385 10.2386V10.1705C465.385 9.32955 465.155 8.67614 464.695 8.21023C464.24 7.74432 463.55 7.51136 462.624 7.51136C461.663 7.51136 460.911 7.72159 460.365 8.14205C459.82 8.5625 459.436 9.01136 459.214 9.48864L457.305 8.80682C457.646 8.01136 458.101 7.39205 458.669 6.94886C459.243 6.5 459.868 6.1875 460.544 6.01136C461.226 5.82955 461.896 5.73864 462.555 5.73864C462.976 5.73864 463.459 5.78977 464.004 5.89204C464.555 5.98864 465.087 6.19034 465.598 6.49716C466.115 6.80398 466.544 7.26705 466.885 7.88636C467.226 8.50568 467.396 9.33523 467.396 10.375V19H465.385V17.2273H465.283C465.146 17.5114 464.919 17.8153 464.601 18.1392C464.283 18.4631 463.859 18.7386 463.331 18.9659C462.803 19.1932 462.158 19.3068 461.396 19.3068ZM461.703 17.5C462.499 17.5 463.169 17.3438 463.714 17.0312C464.266 16.7188 464.68 16.3153 464.959 15.821C465.243 15.3267 465.385 14.8068 465.385 14.2614V12.4205C465.3 12.5227 465.112 12.6165 464.822 12.7017C464.538 12.7812 464.209 12.8523 463.834 12.9148C463.464 12.9716 463.104 13.0227 462.751 13.0682C462.405 13.108 462.124 13.142 461.908 13.1705C461.385 13.2386 460.896 13.3494 460.442 13.5028C459.993 13.6506 459.629 13.875 459.351 14.1761C459.078 14.4716 458.942 14.875 458.942 15.3864C458.942 16.0852 459.2 16.6136 459.717 16.9716C460.24 17.3239 460.902 17.5 461.703 17.5ZM473.079 11.125V19H471.067V5.90909H473.011V7.95455H473.181C473.488 7.28977 473.954 6.75568 474.579 6.35227C475.204 5.94318 476.011 5.73864 476.999 5.73864C477.886 5.73864 478.661 5.92045 479.326 6.28409C479.991 6.64205 480.508 7.1875 480.877 7.92045C481.246 8.64773 481.431 9.56818 481.431 10.6818V19H479.42V10.8182C479.42 9.78977 479.153 8.98864 478.619 8.41477C478.085 7.83523 477.352 7.54545 476.42 7.54545C475.778 7.54545 475.204 7.68466 474.698 7.96307C474.198 8.24148 473.803 8.64773 473.513 9.18182C473.224 9.71591 473.079 10.3636 473.079 11.125Z"
                fill="white"
                fill-opacity="0.5"
              />
            </svg>
          </div>
          {category && (
            <div tw="text-5xl opacity-50 leading-[0.75]">{`${category}/`}</div>
          )}
          <div tw="text-8xl mr-12 text-pretty">{title}</div>
        </div>
      ),
      {
        width: 1200,
        height: 630,
        fonts: [
          {
            name: "Geist Sans",
            data: fontData,
            style: "normal",
          },
        ],
      },
    );
  } catch (e: any) {
    console.log(`${e.message}`);
    return new Response(`Failed to generate the image`, {
      status: 500,
    });
  }
}
